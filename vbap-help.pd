#N canvas 91 360 953 497 10;
#X obj 112 257 vbap 0 0;
#X obj 134 319 print;
#X obj 62 113 define_loudspeakers 3 -45 0 45 0 0 45 180 45;
#X msg 62 87 bang;
#X text 442 79 1 Use define_loudspeakers to list the speaker positions.
The example here defines loudspeakers in three dimensions (the first
parameter). For each speaker \, define its azimuth and elevation. Here
we have speakers front left and right with no elevation (-45 0 45 0)
and front and back with 45 degrees of elevation (0 45 180 45). Send
the data to vbap.;
#X floatatom 129 223 5 0 0 0 - - -;
#X floatatom 173 223 5 0 0 0 - - -;
#X floatatom 217 223 5 0 0 0 - - -;
#X msg 112 179 bang;
#X obj 112 356 route 0 1 2 3;
#X floatatom 112 415 10 0 0 0 - - -;
#X floatatom 191 415 10 0 0 0 - - -;
#X floatatom 270 415 10 0 0 0 - - -;
#X floatatom 349 415 10 0 0 0 - - -;
#X text 442 169 In two dimensions \, only specify the azimuth. (for
example "define_loudspeakers 2 -45 45 0 180";
#X text 151 201 azimuth \, elevation and spread;
#X text 444 352 For an example of how to use vbap with matrix~ from
zexy-library \, see vbap-demo.pd.;
#X text 63 21 VBAP and define_loudspeakers;
#X text 444 300 The spread-parameter can be used to prevent a situation
where sound is coming from one speaker only \, which would make speaker
positions "visible". The range is 0 to 100;
#X floatatom 152 286 5 0 0 0 - - -;
#X floatatom 196 286 5 0 0 0 - - -;
#X floatatom 240 286 5 0 0 0 - - -;
#X text 178 306 actual location;
#X text 444 222 2 For vbap \, give azimuth and elevation for the desired
location. Bang the first inlet and vbap will output gain-factors for
each speaker and the actual location produced. This can be different
from the desired one depending where your speakers are.;
#X obj 600 390 vbap-demo;
#X connect 0 0 1 0;
#X connect 0 0 9 0;
#X connect 0 1 19 0;
#X connect 0 2 20 0;
#X connect 0 3 21 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 5 0 0 1;
#X connect 6 0 0 2;
#X connect 7 0 0 3;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 9 1 11 0;
#X connect 9 2 12 0;
#X connect 9 3 13 0;
